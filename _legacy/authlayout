<!-- src/layouts/AuthLayout.vue -->
<script setup>
import { computed } from 'vue'
import Particles from 'vue3-particles'

const props = defineProps({
  /** å·¦å³ç²’å­å€å¯¬åº¦ï¼ˆå»ºè­° 18~28vwï¼‰ */
  sideWidth: { type: String, default: '22vw' },
  /** å¤§æ¨™( hero )è·é›¢é ‚ç«¯çš„ä½ç½®ï¼ˆä¾‹å¦‚ '12%'ã€'80px'ï¼‰ */
  heroTop: { type: String, default: '12%' },
  /** å¯é–‹é—œç²’å­ï¼ˆè¡Œå‹•è£ç½®æˆ–ç‰¹å®šé é¢å¯é—œï¼‰ */
  showParticles: { type: Boolean, default: true },
})

/* å¿…é ˆï¼šè¼‰å…¥ tsParticles fullï¼Œå¦å‰‡ char å½¢ç‹€ä¸æœƒé¡¯ç¤º */
const particlesInit = async (engine) => {
  const { loadFull } = await import('tsparticles')
  await loadFull(engine)
}

/* ç²’å­åƒæ•¸ï¼šç¬‘è‡‰å­—å…ƒã€è¼•å¾®é£„æµ® */
const particleOptions = computed(() => ({
  background: { color: 'transparent' },
  detectRetina: true,
  fpsLimit: 60,
  fullScreen: { enable: false },
  particles: {
    number: { value: 0 },
    move: { enable: true, speed: 0.6, direction: 'none', outModes: { default: 'out' } },
    opacity: { value: 0.9 },
    size: { value: 18, random: { enable: true, minimumValue: 10 } },
    shape: {
      type: 'char',
      character: {
        value: ['â˜º', 'ğŸ™‚', 'ğŸ˜Š'],
        font: 'Inter, Noto Sans TC, sans-serif',
        weight: '700',
      },
    },
    color: { value: '#1F2937' },
  },
  emitters: [
    {
      position: { x: 50, y: 0 },
      rate: { delay: 0.3, quantity: 1 },
      size: { width: 100, height: 0 },
    },
  ],
  interactivity: { events: { onHover: { enable: false }, resize: true } },
}))
</script>

<template>
  <!-- æ•´é å°ºå¯¸èˆ‡ç½®ä¸­ï¼›ä¸è¨­å®šèƒŒæ™¯ã€ä¸è¨­å®šå¡ç‰‡æ¨£å¼ -->
  <v-container fluid class="auth-root">
    <!-- å·¦å³ç²’å­èƒŒæ™¯ï¼ˆä¸å¯äº’å‹•ï¼‰ -->
    <template v-if="showParticles">
      <div class="particles-side left" :style="{ width: sideWidth }">
        <Particles id="left-smiles" :init="particlesInit" :options="particleOptions" />
      </div>
      <div class="particles-side right" :style="{ width: sideWidth }">
        <Particles id="right-smiles" :init="particlesInit" :options="particleOptions" />
      </div>
    </template>

    <!-- å¤–å±¤ HEROï¼ˆå¡ç‰‡å¤–çš„å¤§æ¨™ï¼‰ -->
    <div class="hero" :style="{ top: heroTop }" aria-label="brand">
      <slot name="hero" />
    </div>

    <!-- ç½®ä¸­å…§å®¹ï¼šè®“å„é é¢è‡ªå·±æ±ºå®šå¡ç‰‡å¯¬é«˜èˆ‡æ¨£å¼ -->
    <div class="center-slot">
      <slot />
    </div>
  </v-container>
</template>

<style scoped>
.auth-root {
  height: 100%; /* âœ… åœ¨ .app-frame å…§ç”¨ 100% é¿å…å¤šé¤˜ scrollbar */
  overflow: hidden; /* âœ… æ•´é ä¸å‡ºå…¨åŸŸæ²å‹• */
  position: relative;
  padding: 0;
  display: grid;
  place-items: center; /* ç½®ä¸­ default slot */
}

/* HERO ä½ç½®ï¼ˆä¸å«æ¨£å¼ï¼Œè®“é é¢è‡ªå·±å®šå­—å‹/å¤§å°ï¼‰ */
.hero {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  z-index: 2;
}

.center-slot {
  position: relative;
  z-index: 2;
  display: grid;
  place-items: center;
}




</style>
